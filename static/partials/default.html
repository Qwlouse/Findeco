
<div class="toggleRow">
    <div class="toggleArguments" ng-click="showArguments = !showArguments">
        <a href="" class="left">
            <span ng-if="!showArguments" data-i18n="_showArguments_">Argumente zeigen</span>
            <span ng-if="showArguments" data-i18n="_hideArguments_">Argumente verbergen</span>
        </a>
    </div>
    <div class="toggleMicroblogging" ng-click="showMicroblogging = !showMicroblogging">
        <a href="" class="right">
            <span ng-if="!showMicroblogging" data-i18n="_showMicroblogging_">Microblogging zeigen</span>
            <span ng-if="showMicroblogging" data-i18n="_hideMicroblogging_">Microblogging verbergen</span>
        </a>
    </div>
    <div style="clear: both;"></div>
</div>


<div class="contentRow fullwidthBox">
    <div class="smallColumn backgroundBox argumentAnimate"
         ng-show="showArguments"
         ng-include src="'/static/partials/argument.html'">
    </div>
    <div class="smallColumn backgroundBox microblogAnimate"
         ng-show="showMicroblogging"
         ng-include src="'/static/partials/microblogging.html'">
    </div>
    <div style="position: relative; left: -50%; float: right; overflow: visible; margin-bottom: 4em;">
        <div style="position: relative; left: 50%;">
            <div class="textColumn left contentText">
                <div ng-if="!user.isLoggedIn&&fesettings.disclaimer.enable"
                     ng-bind-html-unsafe="fesettings.disclaimer.text"
                     class="disclaimer box">
                </div>

                <div class="authors">
                    <span data-i18n="_authors_">Autoren des Vorschlags: </span><div ng-repeat="author in authors"><a ng-href="/user/{{ author }}">{{ author }}</a> </div>
                </div>


                <h1 >{{ nodeInfo.fullTitle }}
                    <div spam-mark show-if="user.isLoggedIn" entity="nodeInfo" mark-func="markNode"></div>
                    <div follow-star show-if="user.isLoggedIn" entity="nodeInfo" mark-func="markMainNode" width="21" height="21"></div>
                </h1>

                <p creole wiki-text="nodeInfo.wikiText"></p>

                <div ng-show="sections.length > 0" class="tipp">
                    <span data-i18n="_proposalText1_">Dieser </span><a href="http://www.findeco.de/hilfe/vorschlage/" class="tippLink" data-i18n="_proposalText2_">Vorschlag</a>
                    <span data-i18n="_proposalText3_">hat</span> {{ nodeInfo.indexList.length }} <span data-i18n="_proposalText4_">Abschnitte. </span>
                    <span data-i18n="_proposalText5_">Du kannst hier alle Abschnitte </span><a ng-hide="allExpanded" ng-click="expandAll()" style="cursor: pointer;"  data-i18n="_proposalText6_">ausklappen</a>
                    <a ng-show="allExpanded" ng-click="collapseAll()" style="cursor: pointer;" data-i18n="_proposalText7_">einklappen</a>.
                </div>

                <div ng-repeat="section in nodeInfo.indexList">
                    <a class="sectionExpander" ng-show="!section.isExpanded" ng-click="expandSection(section)"></a>
                    <a class="sectionCollapser" ng-show="section.isExpanded" ng-click="collapseSection(section)"></a>
                    <h2 ng-show="!section.isExpanded">
                        <a href="/{{ nav.getPathForNode(section.shortTitle,  section.index) }}">{{section.fullTitle}}</a>
                    </h2>

                    <div class="sectionText" ng-show="section.isExpanded" ng-repeat="paragraph in section.paragraphs">
                        <div spam-mark show-if="user.isLoggedIn" entity="paragraph" mark-func="markNode"></div>
                        <div follow-star show-if="user.isLoggedIn" entity="paragraph" mark-func="markNode" width="21" height="21"></div>
                        <div creole wiki-text="paragraph.wikiText"></div>
                    </div>
                </div>
                <button ng-show="user.isLoggedIn" ng-click="relocate('create/proposal')">Edit</button>
                <div class="btnBar">
                    <a ng-show="user.isLoggedIn" ng-click="relocate('old/create/topic')"
                         data-i18n="_createNewText_" style="cursor: pointer;"></a><br />

                    <a ng-show="user.isLoggedIn" ng-click="relocate('old/create/derivate')"
                         data-i18n="_createDerivativeText_" style="cursor: pointer;"></a><br />

                    <a ng-show="user.isLoggedIn" ng-click="relocate('old/create/opposing')"
                         data-i18n="_createOpposingText_" style="cursor: pointer;"></a><br />

                    <div ng-show="nodeInfo.derivate != undefined && nodeInfo.derivate != '' " class="btn btn-primary"
                         ng-click="relocateToDerivate()" data-i18n="_goToDerivateNode_"></div>
                </div>

                <div ng-show="isLoading()" class="deactivateDiv">
                </div>
                <div ng-show="isLoading()" class="deactivateSpinner">
                </div>

                <div style="clear:both; padding-bottom:25px;"></div>
                <div ng-if="user.isLoggedIn&&fesettings.disclaimer.enable"
                     ng-bind-html-unsafe="fesettings.disclaimer.text"
                     class="disclaimer box" >
                </div>
            </div>
            <div style="clear: both;"></div>
        </div>
    </div>
    <div style="clear: both;"></div>
</div>
<div style="clear: both; margin-bottom: 3em;"></div>