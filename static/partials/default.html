
<div class="toggleRow">
    <div class="toggleArguments" ng-click="showArguments = !showArguments">
        <a href="" class="left">
            <span ng-if="!showArguments">Argumente zeigen</span>
            <span ng-if="showArguments">Argumente verbergen</span>
        </a>
    </div>
    <div class="toggleMicroblogging" ng-click="showMicroblogging = !showMicroblogging">
        <a href="" class="right">
            <span ng-if="!showMicroblogging">Microblogging zeigen</span>
            <span ng-if="showMicroblogging">Microblogging verbergen</span>
        </a>
    </div>
    <div style="clear: both;"></div>
</div>


<div class="contentRow">
    <div class="smallColumn backgroundBox argumentAnimate"
         ng-show="showArguments"
         ng-include src="'/static/partials/argument.html'">
    </div>
    <div class="smallColumn backgroundBox microblogAnimate"
         ng-show="showMicroblogging"
         ng-include src="'/static/partials/microblogging.html'">
    </div>

    <div class="textColumn left contentText">
        <div ng-if="!user.isLoggedIn&&fesettings.disclaimer.enable"
             ng-bind-html-unsafe="fesettings.disclaimer.text"
             class="disclaimer box">
        </div>

        <div class="authors">
            Autoren des Vorschlags: <div ng-repeat="author in authors"><a ng-href="/user/{{ author }}">{{ author }}</a> </div>
        </div>


        <h1 >{{ nodeInfo.fullTitle }}
            <div spam-mark show-if="user.isLoggedIn" entity="nodeInfo" mark-func="markNode"></div>
            <div follow-star show-if="user.isLoggedIn" entity="nodeInfo" mark-func="markMainNode" width="21" height="21"></div>
        </h1>

        <p creole wiki-text="nodeInfo.wikiText"></p>

        <div ng-show="sections.length > 0" class="tipp">
            Dieser <a href="http://www.findeco.de/hilfe/vorschlage/" class="tippLink">Vorschlag</a>
            hat {{ nodeInfo.indexList.length }} Abschnitte.
            Du kannst hier alle Abschnitte <a ng-hide="allExpanded" ng-click="expandAll()" style="cursor: pointer;">ausklappen</a>
            <a ng-show="allExpanded" ng-click="collapseAll()" style="cursor: pointer;">einklappen</a>.
        </div>

        <div ng-repeat="section in nodeInfo.indexList">
            <a class="sectionExpander" ng-show="!section.isExpanded" ng-click="expandSection(section)"></a>
            <a class="sectionCollapser" ng-show="section.isExpanded" ng-click="collapseSection(section)"></a>
            <h2 ng-show="!section.isExpanded">
                <a href="/{{ nav.getPathForNode(section.shortTitle,  section.index) }}">{{section.fullTitle}}</a>
            </h2>

            <div class="sectionText" ng-show="section.isExpanded" ng-repeat="paragraph in section.paragraphs">
                <div spam-mark show-if="user.isLoggedIn" entity="paragraph" mark-func="markNode"></div>
                <div follow-star show-if="user.isLoggedIn" entity="paragraph" mark-func="markNode" width="21" height="21"></div>
                <div creole wiki-text="paragraph.wikiText"></div>
            </div>
        </div>
        <div class="btnBar">
            <div ng-show="user.isLoggedIn " class="btn btn-primary" ng-click="relocate('create/topic')"
                 data-i18n="_createNewText_"></div>

            <div ng-show="user.isLoggedIn" class="btn btn-primary" ng-click="relocate('create/derivate')"
                 data-i18n="_createDerivativeText_"></div>

            <div ng-show="user.isLoggedIn" class="btn btn-primary" ng-click="relocate('create/opposing')"
                 data-i18n="_createOpposingText_"></div>

            <div ng-show="nodeInfo.derivate != undefined && nodeInfo.derivate != '' " class="btn btn-primary"
                 ng-click="relocateToDerivate()" data-i18n="_goToDerivateNode_"></div>
        </div>

        <div ng-show="isLoading()" class="deactivateDiv">
        </div>
        <div ng-show="isLoading()" class="deactivateSpinner">
        </div>

        <div style="clear:both; padding-bottom:25px;"></div>
        <div ng-if="user.isLoggedIn&&fesettings.disclaimer.enable"
             ng-bind-html-unsafe="fesettings.disclaimer.text"
             class="disclaimer box" >
        </div>

        <div ng-include src="'/static/partials/messagebox.html'"></div>
    </div>
</div>
<div class="clearer"></div>