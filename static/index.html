<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html class="no-js" xmlns="http://www.w3.org/1999/xhtml" lang="de" id="ng-app" xml:lang="de" ng-app="Findeco">

<head>
    <!-- TODO: Add metadata -->
    <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
    <meta http-equiv="Content-Style-Type" content="text/css"/>
    <meta http-equiv="Content-Script-Type" content="text/javascript"/>

    <!-- Favicon -->
    <link rel="shortcut icon" type="image/x-icon" href="/static/images/favicon.ico">

    <!-- CSS files -->
    <link rel="stylesheet" href="/static/css/layout.css" type="text/css" />
    <link rel="stylesheet" href="/static/css/typography.css" type="text/css" />
    <link rel="stylesheet" href="/static/css/navigationBar.css" type="text/css"/>
    <link rel="stylesheet" href="/static/css/topMenu.css" type="text/css"/>

    <link rel="stylesheet" href="/static/css/main.css" type="text/css"/>
    <link rel="stylesheet" href="/static/css/textColumn.css" type="text/css"/>
    <link rel="stylesheet" href="/static/css/graph.css" type="text/css"/>
    <link rel="stylesheet" href="/static/css/arguments.css" type="text/css"/>
    <link rel="stylesheet" href="/static/css/microblogging.css" type="text/css"/>
    <link rel="stylesheet" href="/static/css/message.css" type="text/css"/>
    <link rel="stylesheet" href="/static/css/footer.css" type="text/css"/>
    <link rel="stylesheet" href="/static/css/create.css" type="text/css"/>
    <link rel="stylesheet" href="/static/css/start.css" type="text/css"/>
    <link rel="stylesheet" href="/static/css/help.css" type="text/css"/>
    <!-- Javascript libraries -->
    <script type="text/javascript" src="/static/js/lib/jquery.min.js"></script>
    <script type="text/javascript" src="/static/js/lib/angular.js"></script>
    <script type="text/javascript" src="/static/js/lib/angular-route.js"></script>
    <script type="text/javascript" src="/static/js/lib/angular-animate.min.js"></script>
    <script type="text/javascript" src="/static/js/lib/d3.v3.min.js"></script>
    <script type="text/javascript" src="/static/js/lib/angular-cookies.min.js"></script>
    <script type="text/javascript" src="/static/js/lib/codeholicsCreole.js"></script>
    <script type="text/javascript" src="/static/js/lib/moment.min.js"></script>
    <script type="text/javascript" src="/static/js/lib/ui-bootstrap-tpls-0.2.0.min.js"></script>
    <script type="text/javascript" src="/static/js/lib/modernizr.custom.js"></script>
    <script type="text/javascript" src="/static/js/lib/localize.js"></script>
    <script type="text/javascript" src="/static/js/lib/diff_match_patch.js"></script>
    <!-- Javascript files -->
    <script type="text/javascript" src="/static/js/app.js"></script>
    <script type="text/javascript" src="/static/js/argumentCtrl.js"></script>
    <script type="text/javascript" src="/static/js/createCtrl.js"></script>
    <script type="text/javascript" src="/static/js/components.js"></script>
    <script type="text/javascript" src="/static/js/confirmationCtrl.js"></script>
    <script type="text/javascript" src="/static/js/customContentCtrl.js"></script>
    <script type="text/javascript" src="/static/js/defaultCtrl.js"></script>
    <script type="text/javascript" src="/static/js/diffCtrl.js"></script>
    <script type="text/javascript" src="/static/js/FE_SETTINGS.js"></script>
    <script type="text/javascript" src="/static/js/filters.js"></script>
    <script type="text/javascript" src="/static/js/graph.js"></script>
    <script type="text/javascript" src="/static/js/graphRowCtrl.js"></script>
    <script type="text/javascript" src="/static/js/graphDataService.js"></script>
    <script type="text/javascript" src="/static/js/helpCtrl.js"></script>
    <script type="text/javascript" src="/static/js/messageCtrl.js"></script>
    <script type="text/javascript" src="/static/js/menuCtrl.js"></script>
    <script type="text/javascript" src="/static/js/microblogCtrl.js"></script>
    <script type="text/javascript" src="/static/js/microbloggingNewsCtrl.js"></script>
    <script type="text/javascript" src="/static/js/argumentNewsCtrl.js"></script>
    <script type="text/javascript" src="/static/js/searchCtrl.js"></script>
    <script type="text/javascript" src="/static/js/syschangeCtrl.js"></script>
    <script type="text/javascript" src="/static/js/parser.js"></script>
    <script type="text/javascript" src="/static/js/newsCtrl.js"></script>
    <script type="text/javascript" src="/static/js/service.js"></script>
    <script type="text/javascript" src="/static/js/backendService.js"></script>
    <script type="text/javascript" src="/static/js/userService.js"></script>
    <script type="text/javascript" src="/static/js/structureParser.js"></script>
    <script type="text/javascript" src="/static/js/userCtrl.js"></script>
    <script type="text/javascript" src="/static/js/userInfoCtrl.js"></script>
    <script type="text/javascript" src="/static/js/navigatorService.js"></script>
    <script type="text/javascript">
        function headerPosition() {
            var navigationBar = document.getElementById('navigationBar');
            if (navigationBar) {
                if (window.scrollY > document.getElementById('headerSpace').scrollHeight) {
                    navigationBar.style.position = 'fixed';
                    navigationBar.style.top = '0';
                    navigationBar.style.width = '100%';
                } else {
                    navigationBar.style.position = 'relative';
                    navigationBar.style.top = '-3px';
                    navigationBar.style.width = 'auto';
                }
            }
        }

        function footerPosition() {
            document.getElementById('footer').style.bottom = '-' +
                String(Math.floor(
                    Math.max(0, (document.body.scrollHeight - document.body.clientHeight - window.scrollY))
                    / 2)) + 'px';
        }

        var didScroll = false;
        setTimeout(footerPosition, 1);

        window.onscroll = function () {
            didScroll = true;
        };

        setInterval(function() {
            if(didScroll) {
                didScroll = false;
                footerPosition();
                headerPosition();
            }
        }, 30);
    </script>

    <title data-i18n="_pageTitle_"></title>
</head>
<body>
<div ng-include src="'/static/partials/header.html'"></div>

<div style="padding-bottom: 2em;">
    <div class="graph row" id="graphSpace" ng-controller="FindecoGraphRowCtrl" >
        <div ng-include src="'/static/partials/navigationBar.html'" ng-if="nav.type=='node'"></div>

        <svg xmlns="http://www.w3.org/2000/svg" height="0" width="0" style="margin: 0; padding:0">
            <!--
                Definitions for the graph arrowheads here in a separate svg.
                This is necessary for correct display in Chrome.
            -->
            <defs>
                <marker id="arrowHead" orient="auto" markerHeight="5"
                        markerWidth="5" refX="5" viewBox="0 -5 10 10"
                        class="linkHead">
                    <path d="M0,-5L10,0L0,5"></path>
                </marker>
                <filter id="blur">
                    <feGaussianBlur stdDeviation="2"></feGaussianBlur>
                </filter>
            </defs>
        </svg>

        <div style="position: relative; left: -50%; float: right; overflow: visible; margin-bottom: 1em;" ng-if="nav.type=='node'">
            <div style="position: relative; left: 50%;">
                <div class="tipp">

                    <span ng-if="graphData.length > 1">Es gibt zu diesem Thema {{ graphData.length }} konkurrierende
                        <a href="http://www.findeco.de/hilfe/vorschlage/" class="tippLink">Vorschläge</a>.</span>
                    <form>
                        Es werden
                        <select name="graph-filter" size="1" style="font-size: 100%; color: gray;"
                                          ng-model="graphType" ng-change="updateGraph()">
                            <option value="default" disabled>nur relevante</option>
                            <option value="full" selected>alle außer Spam</option>
                            <option value="withSpam">alle</option>
                        </select>
                        Vorschläge angezeigt:
                    </form>
                </div>
            </div>
        </div>
        <div style="position: relative; left: -50%; overflow: visible; margin-bottom: 1em;" ng-if="nav.type=='node'">
            <div style="position: relative; left: 50%;">
                <div findeco-graph data="graphData" path="nav.nodePath" height="180" width="graphWidth" class="graph"></div>
            </div>
        </div>
    </div>

    <div style="overflow: visible">
        <div ng-view class='slide' style="position: absolute; width: 100%;"></div>
    </div>
</div>
<div class="footer row" id="footer">
    <ul>
        <li><a href="/terms_of_use">Nutzungsbedingungen</a></li>
        <li><a href="/imprint">Impressum</a></li>
        <li><a href="/data_privacy">Datenschutzerklärung</a></li>
        <li><a href="/about">Über Findeco</a></li>
    </ul>
</div>
{{ hide }}
<div class="helppanel" ng-animate="animate" ng-controller="FindecoHelpCtrl" ng-hide="panelIsHidden">
    {{ hide }}
    <a ng-click="hidePanel();" class="close">X</a>

    <div style=";width:850px;color:#ffffff;opacity:1">

        <h2>{{ title }}</h2>
        {{ helptext }}

        <a ng-show="more" style="position:absolute;right:10px;bottom:5px" href="{{ more }}">Mehr Hilfe zu diesem Thema
            (Link führt zu Findeco.de)</a>
    </div>
</div>
</body>
</html>
